<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>

	<div class="header">
		<div class="container">
			<div class="logo">
				<img src="logo.svg" alt="Logo HardwareLife">
				<h1>HardwareLife</h1>
			</div>
			<ul class="navbar">
				<a href="../Login/tela_login.html">Sair</a>
			</ul>
		</div>		
	</div>
	<div class="dashboard">
		<div class="dashboard_header">
			<h2>Sala 1</h2>
			<select id="filtro" onchange="filtroSelect()">
				<option value="1">Sala 1</option>
				<option value="2">Sala 2</option>
			</select>
		</div>
		<div class="dashboard_container">
			<div class="dashboard_chart_line">
				<canvas id="myChart"></canvas>
			</div>
			<div class="dashboard_chart_line">
				<canvas id="bar3"></canvas>
			</div>
		</div>
		<div class="dashboard_container2">	
			<div class="dashboard_chart_line">
				<canvas id="bar2"></canvas>
			</div>
		</div>
	</div>
	<div class="dashboard2" onclick="aparecerSensor()">
		<h3>Rack 1</h3>
		<div id="racks">
			<div class="esfera_ideal"></div>
			<p>LM35(1,1,1)</p>
			<div class="esfera_ideal"></div>
			<p>LM35(1,2,1)</p> 
			<div class="esfera_ideal"></div>
			<p>LM35(1,1,2)</p> 
			<div class="esfera_ideal"></div>
			<p>LM35(1,2,2)</p> 
			<div class="esfera_ideal"></div>
			<p>LM35(1,1,3)</p> 
			<div class="esfera_ideal"></div>
			<p>LM35(1,2,3)</p>  
		</div>
	</div>
    
</body>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.0.1/dist/chart.umd.min.js"></script>
<script>

    const ctx = document.getElementById("myChart");
	const bar2 = document.getElementById("bar2");
	const bar3 = document.getElementById("bar3");

	function filtroSelect(){
		//Aplicar de fato a filtragem através das requisições aos endpoints da API.
		let select = document.querySelector("#filtro");
		let optionValue = select.options[select.selectedIndex];
		let value = optionValue.value;
	}
	
	function aparecerSensor(){
		if(racks.style.display == "none"){
			racks.style.display = "flex"
		}else{
			racks.style.display = "none"
		}
	}

    new Chart(ctx, {
		type : 'line',
		data : {
			labels : [ "16:20", "16:30", "16:40", "16:50", "17:00", "17:10", "17:20", "17:30" ],
			datasets : [
                    {
							data : [ 20.5, 23.7, 24.6, 25.7, 27.8, 18.5, 23.5, 27.5, 30.55 ],
							label : "Temperatura",
							borderColor : "#e43202",
							fill : false
					},
					{
						data : [ 60, 70, 80, 50, 50, 40, 30, 40, 30, 90],
						label : "Umidade",
						borderColor : "#2eb2ff",
						fill : false
					}]
		},
		options : {
			plugins:{
				title : {
					display : true,
					text : 'Medições em tempo real',
					color: "black",
					font: {
						size: 16
					}
				}
		}}
	});


	

	new Chart(bar2, {
		type: 'bar',
		data: {
			labels: ["Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"],
			datasets: [
				{
					data: [20.5, 23.7, 24.6, 25.7, 27.8, 30.55],
					label: "Temperatura média",
					backgroundColor: "#e43202",
					fill: false
				},
				{
					data: [25, 20, 35, 30, 40, 50, 70],
					label: "Umidade Média",
					backgroundColor: "#2eb2ff",
					fill: false
				}
			]
		},
		options : {
			plugins:{
				title : {
					display : true,
					text : 'Média Anual',
					color: "black",
					font: {
						size: 16
					}
				}
		}}
	});

	new Chart(bar3, {
		type: 'line',
		data : {
			labels : [ "23-10-2023", "24-10-2023", "25-10-2023", "26-10-2023", "27-10-2023", "28-10-2023", "29-10-2023" ],
			datasets : [
                    {
							data : [ 20.5, 23.7, 24.6, 25.7, 27.8, 18.5, 23.5, 27.5, 30.55 ],
							label : "Temperatura",
							borderColor : "#e43202",
							backgroundColor: "#e43202",
							fill : true
					},
					{
						data : [  60, 70, 60, 50, 50, 40, 35, 40, 35, 80],
						label : "Umidade",
						borderColor : "#2eb2ff",
						backgroundColor: "#2eb2ff",
						fill : true
					}]
		},
		options : {
			plugins:{
				title : {
					display : true,
					text : 'Média Semanal',
					color: "black",
					font: {
						size: 16
					}
				}
		}}
	});

</script>
</html>